<div class="header">
  <div class="logo">COGELI</div>
  <div class="subtitle">Configuration Fumisterie Professionnelle</div>
</div>

<div class="container">
  <!-- Informations client -->
  <div class="section">
    <div class="section-title">INFORMATIONS CONFIGURATION</div>
    <table>
      <tr>
        <td><strong>Date :</strong></td>
        <td><%= @date.strftime('%d/%m/%Y') %></td>
      </tr>
      <tr>
        <td><strong>Référence :</strong></td>
        <td>CONF-<%= SecureRandom.hex(4).upcase %></td>
      </tr>
    </table>
  </div>

  <!-- Configuration choisie -->
  <div class="section">
    <div class="section-title">CONFIGURATION SÉLECTIONNÉE</div>
    <table>
      <% @configuration.each do |label, value| %>
        <tr>
          <td width="50%"><strong><%= label %> :</strong></td>
          <td><%= value %></td>
        </tr>
      <% end %>
    </table>
  </div>

  <!-- Kits sélectionnés -->
  <% @kits.each do |category, items| %>
    <div class="section">
      <div class="section-title"><%= category.upcase %></div>
      <table>
        <thead>
          <tr>
            <th width="20%">Référence</th>
            <th width="60%">Désignation</th>
            <th width="20%" style="text-align: right">Prix HT</th>
          </tr>
        </thead>
        <tbody>
          <% items.each do |item| %>
            <tr>
              <td class="kit-code"><%= item['code'] %></td>
              <td><%= item['name'] %></td>
              <td class="price"><%= item['price'] %> €</td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% end %>

  <!-- Total -->
  <div class="total-section">
    <div class="total-row">
      <span>TOTAL HT</span>
      <span style="color: #059669;"><%= @total %> €</span>
    </div>
  </div>

  <!-- Informations importantes -->
  <div class="info-box">
    <strong>Informations importantes :</strong><br>
    • Cette configuration est valable 30 jours<br>
    • Prix hors pose et hors TVA<br>
    • Installation par un professionnel qualifié obligatoire<br>
    • Garantie produits selon conditions générales Cogeli
  </div>

  <div class="footer-info">
    Document généré automatiquement - Cogeli <%= Date.current.year %><br>
    Pour toute question : support@cogeli.fr - 01 23 45 67 89
  </div>
</div>
